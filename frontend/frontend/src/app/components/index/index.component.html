<div class="flex-container d-flex overflow-auto justify-content-center">

    <div class="row text-center" style="width: 100%">
        <!-- This is where the modal would typically be initialized, separate from the main content flow -->
        <div class="modal" id="notificationModal" #notificationModal tabindex="-1" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h3 class="modal-title">Važno obaveštenje!</h3>
                    </div>

                    <div class="modal-body text-start">
                        <ul>
                            <li>Rok za isporuku fotografija je do 7 radnih dana</li>
                            <li>Ukoliko na drugom koraku izaberete "bez akcije", nemate pravo na poklone</li>
                            <li>Ukoliko na drugom koraku izaberete "želim akciju", na svakih 100 fotografija imate pravo
                                na 5 poklona (ako izaberete 500 fotografija, otvoriće vam se opcija da izaberete 5 seta
                                poklona)</li>
                        </ul>
                        <hr>
                        Molimo Vas pročitate ovu poruku i uvažite ovo obaveštenje kako bi uštedeli naše vreme i Vaše
                        fotografije dobili u što kraćem roku. Hvala Vam na razumevanju.
                    </div>

                    <div class="modal-footer">
                        <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Razumem</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal" id="errorModal" #errorModal tabindex="-1" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h3 class="modal-title">Greška</h3>
                    </div>

                    <div class="modal-body text-start">
                        {{this.error}}
                    </div>

                    <div class="modal-footer">
                        <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Razumem</button>
                    </div>
                </div>
            </div>
        </div>
        <!-- Main content -->
        <div class="col-sm-4"></div> <!-- Empty column for spacing -->
        <div class="col-sm-4">
            <button class="btn btn-danger w-100" (click)="photoInput.click()">DODAJ SLIKE</button>
        </div>
        <div class="col-sm-4"></div> <!-- Empty column for spacing -->
        <br><br><br>
        <!-- hidden photo input -->
        <input type="file" #photoInput hidden multiple (change)="onFilesSelected($event)">
        <!-- uploaded photos preview -->
        <div class="row mt-3"  *ngIf="blobs.length > 0">
            <h3>Izabrali ste {{blobs.length}} fotografije/a.</h3>
            <div class="col-md-3" *ngFor="let image of getPaginatedItems(); let i = index">
                <div class="card">
                    <!-- remove image button -->
                    <button class="btn btn-danger remove-btn" (click)="removeImage(i)">X</button>
                    <img [src]="image" class="card-img-top" [style]="setImageStyles()">
                    <div class="card-body">
                        <!-- button for quantity -->
                        <div class="input-group mb-3">
                            <button class="btn btn-outline-secondary" type="button" [id]="'button-minus-' + i"
                                (click)="decrementValue(i)">-</button>
                            <input type="text" class="form-control text-center" value="1"
                                aria-describedby="button-addon1" [(ngModel)]="values[i]"
                                (change)="changeValue(i, $event)">
                            <button class="btn btn-outline-secondary" type="button" [id]="'button-plus-' + i"
                                (click)="incrementValue(i)">+</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-sm-4" *ngIf="blobs.length > 0"></div>
            <div class="col-sm-4 justify-content-center d-flex" *ngIf="blobs.length > 0">
                <div>
                    <nav aria-label="...">
                        <ul class="pagination justify-content-center">
                            <li class="page-item pagination-danger-edge" [class.disabled]="currentPage === 1">
                                <a class="page-link" href="#"
                                    (click)="onPrevPage(); $event.preventDefault();">Prethodna</a>
                            </li>
                            <!-- Generate page numbers -->
                            <li class="page-item pagination-inverse" *ngFor="let page of [].constructor(totalPages); let pIndex = index"
                                [class.active]="currentPage === pIndex+1">
                                <a class="page-link" href="#" (click)="goToPage(pIndex+1); $event.preventDefault();">{{
                                    pIndex+1 }}</a>
                            </li>
                            <li class="page-item pagination-danger-edge" [class.disabled]="currentPage === totalPages">
                                <a class="page-link" href="#" (click)="onNextPage(); $event.preventDefault();">Sledeća</a>
                            </li>
                        </ul>
                    </nav>
                </div>
            </div>
            <div class="col-sm-4" *ngIf="blobs.length > 0"></div>
        
        <!-- choose photo dimensions -->
        <div class="col-sm-4"></div>
        <div class="col-sm-4">
            <h3>Izberite dimenziju fotografija:</h3><br>
            <select class="form-select text-center" name="" id="" [(ngModel)]="photoFormat">
                <option value="" disabled selected>--IZABERITE ŽELJENI FORMAT--</option>
                <option value="9x13">9x13</option>
                <option value="10x15">10x15</option>
                <option value="13x18">13x18</option>
                <option value="polaroid">polaroid</option>
                <!-- ... more options ... -->
            </select>
            <br>
        </div>
        <div class="col-sm-4"></div>
        <!-- choose paper type -->
        <div class="col-12 mt-3">
            <h3>Izaberite tip podloge papira:</h3>
            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="paperBacking" id="mat" [(ngModel)]="paperBacking"
                    value="mat" checked>
                <label class="form-check-label" for="mat">Mat</label>
            </div>
            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="paperBacking" id="sjaj" [(ngModel)]="paperBacking"
                    value="sjaj">
                <label class="form-check-label" for="sjaj">Sjaj</label>
            </div>
        </div>
        <!-- next button -->
        <div class="col-sm-4"></div> <!-- Empty column for spacing -->
        <div class="col-sm-4">
            <br>
            <button class="btn btn-danger w-100" (click)="photosAdded()">DALJE</button>
        </div>
        <div class="col-sm-4"></div> <!-- Empty column for spacing -->
    </div>

</div>